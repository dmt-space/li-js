<script type="module" src="./layout-scheme.js"></script>

<li-layout-scheme id="layout_scheme"></li-layout-scheme>

<script type="module">
    layout_scheme.item = {
        label: 'li-scheme-designer-1',
        items: [
            { id: '000', label: 'li-scheme-test-block-000', x: 100, y: 100 },
            {
                id: '001', label: 'li-scheme-test-block-001', x: 200, y: 200,
                model: {
                    top: [
                        {
                            icon: 'icons:add',
                            action() {
                                this.model.top.splice( -1, 0, {
                                    style: { border: '1px dashed green', 'border-radius': '50%' },
                                    icon: 'editor:insert-link', action() {
                                        this.model.top.splice(this.model.top.length - 1);
                                    }
                                });
                            },
                            link: { pin: { top: '0001-top-0' } }
                        },
                        {
                            style: { border: '1px dashed green', 'border-radius': '50%' },
                            icon: 'icons:link',
                            link: { pin: { top: '0001-top-1' } }
                        }
                    ],
                    right: [
                        {
                            style: { border: '1px double orange', 'border-radius': '1rem/2rem' },
                            icon: 'icons:add',
                            action() {
                                this.model.right.push({
                                    style: { border: '1px double silver', 'border-radius': '1rem/2rem' },
                                    backgroundColor: 'yellow',
                                    icon: 'editor:insert-link', action() {
                                        this.model.right.splice(this.model.right.length - 1);
                                    }
                                });
                            },
                            link: { id: "0002", pin: { left: 0 }, selected: false, linkColor: 'red' }
                        }
                    ],
                    bottom: [],
                    left: [],
                    staticMenu: {
                        top: [
                            {
                                icon: 'communication:call-split',
                                action() {
                                    console.log('split');
                                },
                                style: { margin: '2px' },
                            }
                        ],
                        bottom: [
                            {
                                icon: 'communication:import-export',
                                action() {
                                    console.log('import-export');
                                },
                                style: { margin: '2px' },
                            }
                        ]
                    },
                    dynamicMenu: {
                        top: [
                            {
                                icon: 'av:not-interested',
                                action: 'deleteLink',
                                title: 'deleteAllLinks',
                                style: { fill: 'red', margin: '2px' },
                                editMode: true
                            }
                        ]
                    }
                }
            },
            {
                id: '002', label: 'li-scheme-test-block-002', x: 300, y: 400,
                model: {
                    left: [
                        {
                            style: { border: '1px dashed gray', 'border-radius': '50% 0 0 50%' },
                            icon: 'icons:add', action() {
                                this.model.left.push({
                                    style: { border: '1px dotted blue', 'border-radius': '50% 0 0 50%' },
                                    icon: 'editor:insert-link', action() {
                                        this.model.left.splice(this.model.left.length - 1);
                                    }
                                });
                            },
                        },
                        {
                            style: { border: '1px dotted lime', 'border-radius': '50% 0 0 50%' },
                            icon: 'icons:link', link: { pin: { top: '0002-left-1' } }
                        }
                    ],
                    right: [
                        { style: { border: '2px solid maroon', 'border-radius': '0 50% 50% 0', height: '16px', width: '16px' } }
                    ]
                }
            },
            {
                id: '003', label: 'li-scheme-test-block-003', x: 500, y: 500,
                style: { 'border': '1px solid red', background: 'lightyellow', color: 'blue', 'min-width': '300px', width: 'calc(100% - 12px)', height: '40px' },
                model: {
                    right: [
                        {
                            style: { border: '1px solid gray', 'border-radius': '5%', color: 'red' },
                            icon: 'icons:error'
                        }
                    ],
                    top: [
                        {
                            style: { border: '2px solid green', 'border-radius': '50% 5%' },
                            icon: 'icons:add',
                            action: 'addDefaultConnector'
                        }
                    ],
                    bottom: [
                        {
                            icon: 'icons:link',
                            link: { pin: { top: '0003-bottom-0' } }
                        }
                    ]
                },
            }
        ]
    }
</script>
