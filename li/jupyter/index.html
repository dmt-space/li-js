<meta charset="utf-8">
<title>li-jupyter</title>

<style>
    html, body {
        color: gray;
        font-family: Arial;
        margin: 0;
        padding: 0;
    }
</style>

<li-jupyter-apps id="li_jupyter-apps"></li-jupyter-apps>

<script type="module">
    import { LiElement, html, css } from '../../li.js';
    import './jupyter.js';
    import '../button/button.js';
    customElements.define('li-jupyter-apps', class extends LiElement {
        static get styles() {
            return css`
                ::-webkit-scrollbar { width: 4px; height: 4px; }; ::-webkit-scrollbar-track { background: lightgray; }; ::-webkit-scrollbar-thumb {  background-color: gray; }
                li-button { margin: 4px 8px; font-size: 12px}
            `;
        }
        render() {
            return html`
                <div style="display: flex; flex-direction: row-reverse; border-bottom: 1px solid gray; position: sticky; top: 0; background: white; z-index: 41;">
                    <li-button width="auto" border=0 @click=${() => this.jupyter.share()}>share</li-button>
                    <li-button width="auto" border=0 @click=${(e) => this.jupyter.saveFile(e)}>save json</li-button>
                    <li-button for="load" width="auto" border=0 @click=${() => this.$qs('#load').click()}>load json</li-button>
                    <input id="load" type="file" style="display: none" @change=${(e) => this.jupyter.loadFile(e)}/>
                    <li-button width="auto" border=0 @click=${() => this.jupyter.readOnly = !this.jupyter.readOnly} back=${this.readOnly ? '' : '#e9ffdb'} color=${this.readOnly ? 'lightgray' : 'green'}>enable edit</li-button>
                    <li-button width="auto" border=0 @click=${() => this.jupyter.showBorder = !this.jupyter.showBorder} color=${this.showBorder ? 'gray' : 'lightgray'}>show border</li-button>
                    <li-button width="auto" border=0 @click=${() => this.jupyter.loadURL()} >restore view</li-button>
                    <li-button width="auto" border=0 @click=${() => this.jupyter.clearAll()} color=${this.readOnly ? 'lightgray' : 'gray'}>clear all data</li-button>
                    <li-button width="auto" border=0 @click=${() => document.location.reload()} >reload page</li-button>
                </div>
                <div style="position: relative; overflow: auto; padding: 4px;">
                    <li-jupyter id="jupyter" url="./jupyter.json"></li-jupyter>
                </div>
	        `
        }
        static get properties() {
            return {
                readOnly: { type: Boolean, false: true },
                showBorder: { type: Boolean, local: true }
            }
        }
        get jupyter() { return this.$qs('li-jupyter') || {} }
    })
</script>
