<script type="module" src="../../li.js"></script>
<script type="module" src="./dropdown.js"></script>
<script type="module" src="../button/button.js"></script>

<style>
    html * {
        font-family: Arial;
        color: gray;
    }

    body {
        overflow: hidden;
        user-select: none;
    }
</style>

<div>Press buttons or click right mouse button...</div>
<button id="btn" style="width:300px">Show dropdown (useParentWidth)</button>
<button id="btn2" style="position:absolute;bottom:8px;right:8px">Show dropdown</button>
<br><br>
<div>
    <li-dropdown id="drop">
        <div id="content" style="border:1px solid gray;text-align:center;background: #ebebeb;display: inline-block;visibility: hidden;display: flex;flex-direction: column">
            <div style="display: flex; flex-direction: column;margin: 10px; width:100%;justify-content: center;">
                <div>1234567890</div>
                <div>0987654321</div>
                <div>1234567890</div>
                <div>0987654321</div>
                <div>1234567890</div>
                <div>0987654321</div>
                <div>1234567890</div>
                <div>0987654321</div>
            </div>
            <section>
                <h2>Icons block</h2>
                <li-icon name="android" fill="red"></li-icon>
                <li-icon name="android" fill="orange"></li-icon>
                <li-icon name="android" fill="yellow"></li-icon>
                <li-icon name="android" fill="green"></li-icon>
                <li-icon name="android" fill="royalblue"></li-icon>
                <li-icon name="android" fill="blue"></li-icon>
                <li-icon name="android" fill="violet"></li-icon>
            </section>
            <section style="display: flex; flex-direction: column; margin: 1px 2px;">
                <h2>Buttons block</h2>
                <li-button id="ok" width="auto" icon="check">001</li-button>
                <li-button id="ok" width="auto" icon="check">002</li-button>
                <li-button id="ok" width="auto" icon="check">003</li-button>
                <li-button id="ok" width="auto" icon="check">004</li-button>
                <li-button id="ok" width="auto" icon="check">005</li-button>
                <li-button id="ok" width="auto" icon="check">006</li-button>
            </section>
            <li-button width="auto" name="check" style="padding: 10px" onclick="drop.ok()">OK</li-button>
        </div>
    </li-dropdown>
</div>

<script type="module">
    btn.onclick = async e => {
        try {
            content.style.width = '';
            drop.parent = btn;
            drop.useParentWidth = true;
            const res = await drop.show();
            console.log(res);
        }
        catch (e) {
            //console.log(e);
        }
    }
    btn2.onclick = async e => {
        try {
            content.style.width = '200px';
            drop.parent = btn2;
            drop.useParentWidth = false;
            const res = await drop.show();
            console.log(res);
        }
        catch (e) {
            //console.log(e);
        }
    }
    document.oncontextmenu = async (e) => {
        try {
            e.preventDefault();
            //e.stopPropagation();
            content.style.width = '200px';
            drop.parent = null;
            const res = await drop.show();
            console.log(res);
        }
        catch (e) {
            //console.log(e);
        }
    }
</script>
